(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c6e4f918"],{"426e":function(e,s,t){"use strict";t.r(s);var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"missions"},[t("div",{staticClass:"missions-list"},e._l(e.missions,(function(s){return t("div",{key:s.id,staticClass:"mission"},[t("div",{staticClass:"mission-info"},[t("h1",{staticClass:"mission-name",on:{click:function(t){return e.openGoalsModal(s)}}},[e._v(" "+e._s(s.name)+" ")]),s.completed||s.tracking?s.completed?t("div",{staticClass:"mission-completed"},[e._v(" completed ")]):s.tracking?t("div",{staticClass:"mission-tracking"},[e._v(" tracking ")]):e.hasRequiredLevel(s.level_requirement)?e._e():t("div",[e._v(" Hasn't reached required level yet ")]):t("div",{staticClass:"mission-option"},[e._v(" Available ")])])])})),0),t("div",{staticClass:"goal"},[t("div",{staticClass:"goal-pic"},[t("img",{attrs:{src:"/img/game/"+this.selectedMission.banner+".jpg"}})]),t("div",{staticClass:"goal-section"},[t("h1",{staticClass:"goal-title"},[e._v(e._s(this.selectedMission.name))]),t("p",{staticClass:"goal-description"},[e._v(e._s(this.selectedMission.description))]),t("div",{staticClass:"goal-goals"},[e._m(0),e._l(this.selectedMission.goals,(function(s,n){return t("li",{key:n},[e._v(" "+e._s(s.description)+" ( "),e.selectedMissionGoals[n]?t("span",[e._v(e._s(e.selectedMissionGoals[n].battlesWon))]):t("span",[e._v("0")]),e._v(" / "+e._s(s.battlesWon)+" ) ")])}))],2)]),t("div",{staticClass:"goal-character"},[t("p",[e._v(" character unlocked: "),t("b",[e._v(e._s(this.pokemon(this.selectedMission.unlocked_entity).name))])]),e.selectedMission.completed||e.selectedMission.tracking?e._e():t("button",{on:{click:function(s){return e.trackMission()}}},[e._v(" Track mission ")]),!e.selectedMission.completed&&e.selectedMission.tracking?t("button",{on:{click:function(s){return e.stopTracking()}}},[e._v(" Stop tracking ")]):e._e()])])])},i=[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("li",[t("b",[e._v("Goals")])])}],a=(t("d81d"),t("96cf"),t("1da1")),r={data:function(){return{missions:[],selectedMission:{},selectedMissionGoals:[]}},methods:{openGoalsModal:function(e){var s=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s.selectedMissionGoals=[],s.selectedMission=e,t.next=4,s.$http.get("/game/mission/".concat(s.selectedMission.id));case 4:n=t.sent,n.data.success&&n.data.goals.length>0&&(s.selectedMissionGoals=n.data.goals[0].goals);case 6:case"end":return t.stop()}}),t)})))()},trackMission:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var t,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(e.hasRequiredLevel(e.selectedMission.level_requirement)){s.next=2;break}return s.abrupt("return");case 2:if(t=e.selectedMission.id,n=e.selectedMission.goals.map((function(e){return e.battlesWon=0,e})),s.prev=4,!(e.trackedMissions>=3)){s.next=8;break}return alert("You can't track more than 3 missions at once!"),s.abrupt("return");case 8:return s.next=10,e.$http.post("/game/track",[t,JSON.stringify(n)]);case 10:e.selectedMission.tracking=!0,e.$emit("close"),s.next=17;break;case 14:s.prev=14,s.t0=s["catch"](4),alert(s.t0);case 17:case"end":return s.stop()}}),s,null,[[4,14]])})))()},stopTracking:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var t,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,t=e.selectedMission.id,s.next=4,e.$http.delete("/game/mission/".concat(t));case 4:n=s.sent,n.data.success&&(e.selectedMission.tracking=!1,e.selectedMissionGoals=[]),s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](0),alert(s.t0);case 11:case"end":return s.stop()}}),s,null,[[0,8]])})))()},hasRequiredLevel:function(e){return this.user.season.seasonLevel>=e}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function s(){var t;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.$http.get("/game/mission");case 2:t=s.sent,e.missions=t.data,e.openGoalsModal(e.missions[0]);case 5:case"end":return s.stop()}}),s)})))()},computed:{pokemon:function(){return this.$store.getters["Roster/findPokemonById"]},user:function(){return this.$store.getters["user/getUserData"]},trackedMissions:function(){var e=0;for(var s in this.missions)if(this.missions[s].tracking&&e++,e>=3)return e;return e}}},c=r,o=(t("7328"),t("2877")),l=Object(o["a"])(c,n,i,!1,null,null,null);s["default"]=l.exports},7328:function(e,s,t){"use strict";var n=t("7485"),i=t.n(n);i.a},7485:function(e,s,t){}}]);
//# sourceMappingURL=chunk-c6e4f918.54ff56b6.js.map