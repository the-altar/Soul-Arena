(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59a9fa74"],{"0044":function(e,t,r){e.exports=r.p+"img/interrogation.6ae20566.png"},3399:function(e,t,r){e.exports=r.p+"img/sa.7c2bf824.png"},"5ad4":function(e,t,r){},"5daa":function(e,t,r){"use strict";var a=r("5ad4"),n=r.n(a);n.a},7347:function(e,t){},7393:function(e,t,r){e.exports=r.p+"img/user.3d2c8647.svg"},d9c5:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.userData?a("main",{staticClass:"container fade-in-bck",class:{bg:e.isDisabled}},[a("div",{staticClass:"home__panel"},[a("div",{staticClass:"home-roster"},e._l(e.currentTeam.members,(function(t,n){return a("drop",{key:n,staticClass:"home-roster-pic",attrs:{draggable:!1},on:{drop:function(t){var r=arguments.length,a=Array(r);while(r--)a[r]=arguments[r];return e.handleDrop.apply(void 0,[n].concat(a))}}},[t.facepic?a("img",{attrs:{src:"/uploads/"+t.facepic+".jpg"},on:{dblclick:function(t){return e.removeCharByIndex(n)}}}):a("img",{attrs:{src:r("0044")}})])})),1),a("button",{staticClass:"home__btn",on:{click:e.joinRankedLobby}},[e.searchingGame?a("p",[e._v("Searching...")]):a("p",[e._v("Ranked Match")]),a("span",[a("img",{class:{"home__btn-active":e.searchingGame},attrs:{src:r("3399")}})])]),e.userData.rank.authLevel>=0?a("button",{staticClass:"home__btn",on:{click:function(t){return e.$router.push({name:"missions"})}}},[a("p",[e._v("Missions")]),e._m(0)]):e._e(),a("button",{staticClass:"home-profile",on:{click:function(t){return e.openPlayerModal()}}},[a("img",{attrs:{src:r("7393")}})])]),a("router-view",{staticClass:"home__router"})],1):e._e()},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("img",{attrs:{src:r("3399")}})])}],s=r("7347"),o=r.n(s),i=(r("d81d"),function(){return this.$store.getters["user/getUserData"]}),c=function(){return this.$store.state.game.currentTeam},u=function(){return this.$store.state.midori.disabled},m=function(){return this.$store.state.game.currentTeam.members.map((function(e){return e.id}))},h=function(){return this.$store.state.game.room},l={userData:i,isDisabled:u,currentTeam:c,currentTeamIds:m,battleRoom:h},p=(r("caad"),r("2532"),r("96cf"),r("1da1")),d=function(){this.$store.dispatch("audio/playBlocked"),alert("This isn't working yet, sorry!")},g=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===this.gameRoom){e.next=3;break}return this.gameRoom.leave(),e.abrupt("return");case 3:return e.next=5,this.$http.get("/user");case 5:if(t=e.sent,this.$store.commit("user/SET_USER",t.data),this.currentTeam.full){e.next=11;break}return this.$store.dispatch("audio/playBlocked"),alert("You need exactly 3 characters to start a game!"),e.abrupt("return");case 11:return this.$store.dispatch("audio/playSnap"),e.prev=12,this.searchingGame=!0,e.next=16,this.$colyseus.joinOrCreate("rankedLobby",{team:this.currentTeamIds,player:this.$store.getters["user/getUserData"]});case 16:this.gameRoom=e.sent,this.gameRoom.onMessage("seat",function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.$colyseus.consumeSeatReservation(t);case 3:a=e.sent,r.$store.commit("game/setRoom",a),r.battleRoom.onMessage("game-started",(function(e){r.$store.dispatch("audio/changeIntoBattle"),r.$store.commit("game/setGameState",e),r.$router.push({name:"ingame"})})),r.gameRoom.leave(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),alert(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()),this.gameRoom.onLeave(Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.gameRoom=null,r.searchingGame=!1;case 2:case"end":return e.stop()}}),e)})))),e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](12),this.searchingGame=!1,alert(e.t0);case 25:case"end":return e.stop()}}),e,this,[[12,21]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.searchingGame){e.next=2;break}return e.abrupt("return");case 2:this.$store.commit("game/removeCharByIndex",t);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),b=function(e,t){this.searchingGame||t&&(this.userData.unlocked.includes(t.id)||t.isFree)&&(console.log(t),console.log(this.userData.unlocked),this.$store.commit("game/addToTeamAtIndex",{char:t,index:e}))},v=function(){this.$store.getters["user/modalStates"].profile=!0},k={joinLobby:d,handleDrop:b,joinRankedLobby:g,openPlayerModal:v,removeCharByIndex:f},y={},R={data:function(){return{searchingGame:!1,btn2:!1,theme:{},gameRoom:null}},components:o.a,computed:l,methods:k,watchers:y,mounted:function(){this.$store.commit("midori/setUpdate",{value:!0,index:2})}},$=R,x=(r("5daa"),r("2877")),w=Object(x["a"])($,a,n,!1,null,null,null);t["default"]=w.exports}}]);
//# sourceMappingURL=chunk-59a9fa74.cab9eddb.js.map