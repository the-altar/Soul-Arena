(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad7227f4"],{"07cc":function(s,t,e){},"1ec0":function(s,t,e){"use strict";e.r(t);var n=function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"missions"},[n("div",{staticClass:"missions-menu"},[n("button",{on:{click:function(t){return s.sortBy(1)}}},[n("img",{attrs:{src:e("92e1")}})]),n("button",{on:{click:function(t){return s.sortBy(2)}}},[n("img",{attrs:{src:e("f1ed")}})]),n("button",{on:{click:function(t){return s.sortBy(4)}}},[n("img",{attrs:{src:e("e1e7")}})]),n("button",{on:{click:function(t){return s.sortBy(3)}}},[n("img",{attrs:{src:e("555d")}})]),n("button",{on:{click:function(t){return s.$router.push({name:"home"})}}},[n("img",{attrs:{src:e("e0ed")}})])]),n("div",{staticClass:"missions-list"},[s._l(s.missions.slice(s.start,s.finish),(function(t,e){return n("mission",{key:e,attrs:{mission:t},on:{openGoalsModal:s.openGoalsModal}})})),n("div",{staticClass:"missions-navigator"},[n("img",{staticClass:"roster-list-next roster-list-next-reverse",attrs:{src:"/themes/midnight/next.svg"},on:{click:function(t){s.start=Math.max(0,s.start-10),s.finish=Math.max(10,s.finish-10)}}}),n("span",{staticClass:"roster-points midnight-glow"}),n("img",{staticClass:"roster-list-next",attrs:{src:"/themes/midnight/next.svg"},on:{click:function(t){s.start=Math.min(s.missions.length-1,s.start+10),s.finish=Math.min(s.missions.length,s.finish+10)}}})])],2),n("goals",{attrs:{mission:s.selectedMission,goals:s.selectedMissionGoals,tracked:s.tracked}})],1)},i=[],r=(e("99af"),e("a434"),e("96cf"),e("1da1")),a=function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"goal"},[n("div",{staticClass:"goal-pic"},[n("img",{attrs:{src:"/uploads/"+s.mission.banner+".jpg"}})]),n("div",{staticClass:"goal-section"},[n("h1",{staticClass:"goal-title"},[s._v(s._s(s.mission.name))]),n("div",{staticClass:"goal-difficulty"},s._l(s.mission.difficulty_level,(function(s){return n("img",{key:s,attrs:{src:e("43a2")}})})),0),n("p",{staticClass:"goal-description"},[s._v(s._s(s.mission.description))]),n("div",{staticClass:"goal-goals"},[s._m(0),s._l(s.mission.goals,(function(t,e){return n("li",{key:e},[s._v(" "+s._s(t.description)+" ( "),s.goals[e]?n("span",[s._v(s._s(s.goals[e].battlesWon))]):n("span",[s._v("0")]),s._v(" / "+s._s(t.battlesWon)+" ) ")])}))],2)]),n("div",{staticClass:"goal-character"},[n("p",[s._v(" character unlocked: "),n("b",[s._v(s._s(s.entity(s.mission.unlocked_entity).name))])]),s.mission.completed||s.mission.tracking||!this.hasRequiredLevel(this.mission.level_requirement)?s._e():n("button",{staticClass:"goal-btn goal-btn--track",on:{click:function(t){return s.trackMission()}}},[s._v(" Track ")]),!s.mission.completed&&s.mission.tracking?n("button",{staticClass:"goal-btn goal-btn--stop",on:{click:function(t){return s.stopTracking()}}},[s._v(" Stop tracking ")]):s._e()])])},o=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("li",[e("b",[s._v("Goals")])])}],c=(e("d81d"),e("b0c0"),{props:["mission","goals","tracked"],computed:{user:function(){return this.$store.getters["user/getUserData"]}},methods:{entity:function(s){var t=this.$store.getters["Roster/getRoster"];for(var e in t)if(t[e].id===s)return t[e];return{}},hasRequiredLevel:function(s){return this.user.season.seasonLevel>=s},trackMission:function(){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s.hasRequiredLevel(s.mission.level_requirement)){t.next=2;break}return t.abrupt("return");case 2:if(e=s.mission.id,n=JSON.parse(JSON.stringify(s.mission.goals)).map((function(s){return s.battlesWon=0,s})),t.prev=4,!(s.tracked>=3)){t.next=8;break}return s.alertSystem({msg:"You can't track more than 3 missions at once!",status:"warning"}),t.abrupt("return");case 8:return t.next=10,s.$http.post("/track",[e,JSON.stringify(n)]);case 10:s.mission.tracking=!0,s.alertSystem({msg:"You're now tracking ".concat(s.mission.name),status:"success"}),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](4),s.alertSystem({msg:"Something went wrong! We likely couldn't track your mission ):",status:"warning"});case 17:case"end":return t.stop()}}),t,null,[[4,14]])})))()},stopTracking:function(){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e=s.mission.id,t.next=4,s.$http.delete("/mission/".concat(e));case 4:n=t.sent,n.data.success&&(s.mission.tracking=!1,s.goals=[]),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),s.alertSystem({msg:"It appears something went wrong...",status:"warning"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()}}}),l=c,u=(e("5586"),e("2877")),m=Object(u["a"])(l,a,o,!1,null,"196903ce",null),d=m.exports,g=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{key:s.mission.id,staticClass:"mission"},[e("div",{staticClass:"mission-info"},[e("div",{staticClass:"mission-name",on:{click:function(t){return s.openGoalsModal()}}},[e("h1",[s._v(" "+s._s(s.mission.name)+" ")]),e("span",{class:"mission-track mission-track-"+s.status})]),s.mission.completed?e("div",{staticClass:"mission-completed mission-tag"},[s._v(" completed ")]):s.hasRequiredLevel?s.mission.completed||s.mission.tracking?s.mission.tracking?e("div",{staticClass:"mission-tracking mission-tag"},[s._v(" tracking ")]):s._e():e("div",{staticClass:"mission-available mission-tag"},[s._v(" Available ")]):e("div",{staticClass:"mission-tag mission-unavailable"},[s._v(" Unlock this assignment at level "+s._s(s.mission.level_requirement)+" ")])])])},f=[],p={props:["mission"],methods:{openGoalsModal:function(){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s.$emit("openGoalsModal",s.mission);case 1:case"end":return t.stop()}}),t)})))()}},computed:{status:function(){return this.hasRequiredLevel?this.mission.completed||this.mission.tracking?this.mission.completed?"completed":this.mission.tracking?"tracking":"":"available":"unavailable"},user:function(){return this.$store.getters["user/getUserData"]},hasRequiredLevel:function(){return this.user.season.seasonLevel>=this.mission.level_requirement}}},v=p,h=(e("524a"),Object(u["a"])(v,g,f,!1,null,"28f15e48",null)),k=h.exports,b={components:{goals:d,mission:k},data:function(){return{missions:[],selectedMission:{},selectedMissionGoals:[],start:0,finish:10}},methods:{openGoalsModal:function(s){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.selectedMissionGoals=[],t.selectedMission=s,e.next=4,t.$http.get("/mission/".concat(t.selectedMission.id));case 4:n=e.sent,n.data.success&&n.data.goals.length>0&&(t.selectedMissionGoals=n.data.goals[0].goals);case 6:case"end":return e.stop()}}),e)})))()},sortBy:function(s){for(var t=[],e=this.missions.length-1;e>=0;e--)if(this.status(this.missions[e])!==s){var n=this.missions.splice(e,1)[0];t.push(n)}this.missions=this.missions.concat(t)},status:function(s){return this.hasRequiredLevel(s)||s.completed?s.completed||s.tracking?s.completed?3:s.tracking?4:0:2:1},hasRequiredLevel:function(s){return this.user.season.seasonLevel>=s.level_requirement}},created:function(){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s.$http.get("/mission");case 2:e=t.sent,s.missions=e.data,s.openGoalsModal(s.missions[0]);case 5:case"end":return t.stop()}}),t)})))()},computed:{user:function(){return this.$store.getters["user/getUserData"]},tracked:function(){var s=0;for(var t in this.missions)if(this.missions[t].tracking&&s++,s>=3)return s;return s}}},_=b,w=(e("c053"),Object(u["a"])(_,n,i,!1,null,null,null));t["default"]=w.exports},"1fce":function(s,t,e){},"43a2":function(s,t,e){s.exports=e.p+"img/star.61246c06.svg"},"524a":function(s,t,e){"use strict";var n=e("07cc"),i=e.n(n);i.a},"555d":function(s,t,e){s.exports=e.p+"img/completed.78bc5b4d.svg"},5586:function(s,t,e){"use strict";var n=e("1fce"),i=e.n(n);i.a},"82c4":function(s,t,e){},"92e1":function(s,t,e){s.exports=e.p+"img/locked.418409b3.svg"},"99af":function(s,t,e){"use strict";var n=e("23e7"),i=e("d039"),r=e("e8b5"),a=e("861d"),o=e("7b0b"),c=e("50c4"),l=e("8418"),u=e("65f0"),m=e("1dde"),d=e("b622"),g=e("2d00"),f=d("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",h=g>=51||!i((function(){var s=[];return s[f]=!1,s.concat()[0]!==s})),k=m("concat"),b=function(s){if(!a(s))return!1;var t=s[f];return void 0!==t?!!t:r(s)},_=!h||!k;n({target:"Array",proto:!0,forced:_},{concat:function(s){var t,e,n,i,r,a=o(this),m=u(a,0),d=0;for(t=-1,n=arguments.length;t<n;t++)if(r=-1===t?a:arguments[t],b(r)){if(i=c(r.length),d+i>p)throw TypeError(v);for(e=0;e<i;e++,d++)e in r&&l(m,d,r[e])}else{if(d>=p)throw TypeError(v);l(m,d++,r)}return m.length=d,m}})},c053:function(s,t,e){"use strict";var n=e("82c4"),i=e.n(n);i.a},e0ed:function(s,t,e){s.exports=e.p+"img/goback.592f4b5a.svg"},e1e7:function(s,t,e){s.exports=e.p+"img/progress.9533211d.svg"},f1ed:function(s,t,e){s.exports=e.p+"img/unlocked.a9ba3da0.svg"}}]);
//# sourceMappingURL=chunk-ad7227f4.b18e5eb4.js.map