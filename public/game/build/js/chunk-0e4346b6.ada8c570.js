(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e4346b6"],{"29e2":function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"lobby"},[t("section",{staticClass:"lobby-members"},[t("h1",{staticClass:"lobby-header"},[e._v("Who's online")]),e._l(e.membersOnline,(function(s,a){return t("div",{key:a,staticClass:"lobby-member"},[t("img",{staticClass:"lobby-avatar lobby-avatar-mini",attrs:{src:"https://api.adorable.io/avatars/75/"+s.avatarId}}),t("p",{staticClass:"lobby-member-name"},[e._v(e._s(s.username))])])}))],2),t("section",{staticClass:"lobby-chat"},[t("div",{ref:"chatView",staticClass:"lobby-chat-view"},e._l(e.chatMessageList,(function(s,a){return t("div",{key:a,staticClass:"lobby-chat-message"},[t("h1",{staticClass:"lobby-chat-message-sender"},[e._v(e._s(s.sender.username))]),t("p",{staticClass:"lobby-chat-message-content"},[e._v(e._s(s.content))])])})),0),t("div",{staticClass:"lobby-chat-textbox"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"lobby-chat-textbox-input",attrs:{placeholder:"type your message..."},domProps:{value:e.message},on:{keydown:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.sendMessage(s)},keyup:function(s){if(!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter"))return null;e.message=""},input:function(s){s.target.composing||(e.message=s.target.value)}}}),t("button",{staticClass:"lobby-btn",on:{click:e.sendMessage}},[e._v("send")])])])])},n=[],o={},i={},l=function(){""!=this.message&&this.lobby.send("message",this.message)},c={sendMessage:l},r={},b={data:function(){return{membersOnline:{},lobby:null,message:"",chatMessageList:[]}},components:o,computed:i,methods:c,watchers:r,mounted:function(){var e=this;this.$colyseus.joinOrCreate("lobby",this.$store.getters["user/getUserData"]).then((function(s){s.onMessage("joined",(function(s){e.membersOnline=s})),s.onMessage("left",(function(s){e.membersOnline=s})),s.onMessage("message",(function(s){e.chatMessageList.push(s),setTimeout((function(){e.$refs.chatView.scrollTop=e.$refs.chatView.scrollHeight}),100)})),e.lobby=s})).catch((function(e){return alert(e)}))},beforeDestroy:function(){null!==this.lobby&&this.lobby.leave()}},u=b,m=(t("5075"),t("2877")),y=Object(m["a"])(u,a,n,!1,null,"53c85574",null);s["default"]=y.exports},5075:function(e,s,t){"use strict";var a=t("deff"),n=t.n(a);n.a},deff:function(e,s,t){}}]);
//# sourceMappingURL=chunk-0e4346b6.ada8c570.js.map