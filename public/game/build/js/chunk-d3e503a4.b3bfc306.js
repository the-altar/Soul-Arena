(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d3e503a4"],{"63d6":function(s,e,t){"use strict";t.r(e);var a=function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("main",{attrs:{id:"app"}},[s.isDisabled?s._e():a("canvas",{ref:"canvas",staticClass:"canvas"}),a("transition",{attrs:{name:"fade"}},[s.imagesReady&&s.loaded?a("router-view",{directives:[{name:"show",rawName:"v-show",value:s.isLoaded||s.isDisabled,expression:"isLoaded || isDisabled"}]}):a("div",{staticClass:"app-loading"},[a("img",{staticClass:"app-loading-gif",attrs:{src:t("c518")}}),a("div",{staticClass:"app-opt"},[a("p",{staticClass:"app-opt-checkbox"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.disableMidori,expression:"disableMidori"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.disableMidori)?s._i(s.disableMidori,null)>-1:s.disableMidori},on:{change:function(e){var t=s.disableMidori,a=e.target,i=!!a.checked;if(Array.isArray(t)){var r=null,o=s._i(t,r);a.checked?o<0&&(s.disableMidori=t.concat([r])):o>-1&&(s.disableMidori=t.slice(0,o).concat(t.slice(o+1)))}else s.disableMidori=i}}}),s._v(" Disable animated background ")]),a("p",{staticClass:"app-opt-help"},[s._v(" This feature uses WebGL and might affect performance. Check here to opt-out of it. ")])]),a("p",{staticClass:"app-loading-text"},[s._v("Gaming is loading...")])])],1),s.profileModal?a("playerPanel",{on:{close:function(e){s.$store.getters["user/modalStates"].profile=!1}}}):s._e()],1)},i=[],r=(t("96cf"),t("1da1")),o=t("bc3a"),n=t.n(o),c=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"modal fade-in-fwd",on:{click:function(e){return e.target!==e.currentTarget?null:s.$emit("close")}}},[s.user?t("div",{staticClass:"user"},[t("div",{staticClass:"user-header"},[t("img",{attrs:{src:"/img/avatars/"+s.user.avatar}}),t("p",[s._v(" "+s._s(s.user.username)+" "),t("br"),t("span",{staticClass:"user-header-rank"},[s._v(s._s(s.user.season.seasonRank))]),t("br")])]),t("div",[t("div",{staticClass:"user-stats"},[t("div",{staticClass:"user-stats-detail"},[t("p",[s._v(s._s(s.user.season.wins))]),t("p",{staticClass:"user-stats-label"},[s._v("Wins")])]),t("div",{staticClass:"user-stats-detail"},[t("p",[s._v(s._s(s.user.season.losses))]),t("p",{staticClass:"user-stats-label"},[s._v("Losses")])]),t("div",{staticClass:"user-stats-detail"},[t("p",[s._v(s._s(s.user.season.streak))]),t("p",{staticClass:"user-stats-label"},[s._v("Streak")])])]),t("div",{staticClass:"user-stats"},[t("div",{staticClass:"user-stats-detail"},[t("p",[s._v(s._s(s.user.season.maxStreak))]),t("p",{staticClass:"user-stats-label"},[s._v("max streak")])]),t("div",{staticClass:"user-stats-detail"},[t("p",[s._v(s._s(s.user.season.seasonLevel))]),t("p",{staticClass:"user-stats-label"},[s._v("Level")])]),t("div",{staticClass:"user-stats-detail"},[t("p",[s._v(s._s(s.user.coins))]),t("p",{staticClass:"user-stats-label"},[s._v("coins")])])])]),t("div",{staticClass:"user-options"},[t("p",{staticClass:"user-header-exp"},[t("span",{staticClass:"user-header-exp-value"},[s._v("exp: "+s._s(s.user.season.exp)+"/"+s._s(s.expNeeded))]),t("span",{staticClass:"user-header-exp-bar",style:{width:s.expRatio+"%"}})])])]):s._e()])},d=[],l={computed:{user:function(){return this.$store.getters["user/getUserData"]},expNeeded:function(){var s=this.user.season.seasonLevel;return s*(s+1)/2*150},expRatio:function(){return Math.floor(this.user.season.exp/this.expNeeded*100)}}},u=l,p=(t("df47"),t("2877")),m=Object(p["a"])(u,c,d,!1,null,"4badc008",null),v=m.exports,h={components:{playerPanel:v},data:function(){return{imagesReady:!1,loaded:!1,disableMidori:!1}},computed:{isLoaded:function(){return this.$store.state.midori.isLoaded},isDisabled:function(){return this.$store.state.midori.disabled},update:function(){return this.$store.state.midori.update},profileModal:function(){return this.$store.getters["user/modalStates"].profile}},created:function(){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.$http.get("/user");case 3:return t=e.sent,e.next=6,n.a.get("/character");case 6:return a=e.sent,e.next=9,n.a.get("/game-enums");case 9:i=e.sent,s.$store.commit("user/SET_USER",t.data),s.$store.commit("audio/setAudio"),s.$store.commit("Roster/setData",a.data),s.$store.commit("enums/setEnums",i.data),s.$store.dispatch("audio/playGameStart"),s.$colyseus.joinOrCreate("lobby",{auth:t.data.auth,id:t.data.id}).then((function(e){s.$store.commit("lobby/SET_ROOM",e)})).catch((function(){s.$store.commit("lobby/SET_ROOM",null)})),setTimeout((function(){s.loaded=!0}),3e3),e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](0),alert(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))()},mounted:function(){var s=this;this.$store.dispatch("midori/setCanvas",this.$refs.canvas).then((function(e){s.imagesReady=e}))},watch:{update:function(s){s&&(2===this.$store.state.midori.index?this.$store.commit("midori/setHomeBackground"):this.$store.commit("midori/setTurnBackground")),this.$store.state.midori.update=!1},disableMidori:function(s){s?this.$store.commit("midori/disable"):this.$store.commit("midori/enable")}},beforeDestroy:function(){this.$store.commit("midori/cleanUp")}},f=h,b=Object(p["a"])(f,a,i,!1,null,null,null);e["default"]=b.exports},"90ea":function(s,e,t){},c518:function(s,e,t){s.exports=t.p+"img/wait.cca21584.gif"},df47:function(s,e,t){"use strict";var a=t("90ea"),i=t.n(a);i.a}}]);
//# sourceMappingURL=chunk-d3e503a4.b3bfc306.js.map