(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-663cea2c"],{"07cc":function(t,s,e){},"1ec0":function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"missions"},[i("div",{staticClass:"missions-menu"},[i("button",{on:{click:function(s){return t.sortBy(1)}}},[i("img",{attrs:{src:e("92e1")}})]),i("button",{on:{click:function(s){return t.sortBy(2)}}},[i("img",{attrs:{src:e("f1ed")}})]),i("button",{on:{click:function(s){return t.sortBy(4)}}},[i("img",{attrs:{src:e("e1e7")}})]),i("button",{on:{click:function(s){return t.sortBy(3)}}},[i("img",{attrs:{src:e("555d")}})]),i("button",{on:{click:function(s){return t.$router.push({name:"home"})}}},[i("img",{attrs:{src:e("e0ed")}})])]),i("div",{staticClass:"missions-list"},[t._l(t.missions.slice(t.start,t.finish),(function(s,e){return i("mission",{key:e,attrs:{mission:s},on:{openGoalsModal:t.openGoalsModal}})})),i("div",{staticClass:"missions-navigator"},[i("img",{staticClass:"roster-list-next roster-list-next-reverse",attrs:{src:"/themes/midnight/next.svg"},on:{click:function(s){t.start=Math.max(0,t.start-10),t.finish=Math.max(10,t.finish-10)}}}),i("span",{staticClass:"roster-points midnight-glow"}),i("img",{staticClass:"roster-list-next",attrs:{src:"/themes/midnight/next.svg"},on:{click:function(s){t.start=Math.min(t.missions.length-1,t.start+10),t.finish=Math.min(t.missions.length,t.finish+10)}}})])],2),i("goals",{attrs:{mission:t.selectedMission,goals:t.selectedMissionGoals,tracked:t.tracked}})],1)},n=[],r=(e("99af"),e("a434"),e("96cf"),e("1da1")),a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"goal"},[i("div",{staticClass:"goal-pic"},[i("img",{attrs:{src:"/uploads/"+t.mission.banner+".jpg"}})]),i("div",{staticClass:"goal-section"},[i("h1",{staticClass:"goal-title"},[t._v(t._s(t.mission.name))]),i("div",{staticClass:"goal-difficulty"},t._l(t.mission.difficulty_level,(function(t){return i("img",{key:t,attrs:{src:e("43a2")}})})),0),i("p",{staticClass:"goal-description"},[t._v(t._s(t.mission.description))]),i("div",{staticClass:"goal-goals"},[t._m(0),t._l(t.mission.goals,(function(s,e){return i("li",{key:e},[t._v(" "+t._s(s.description)+" ( "),t.goals[e]?i("span",[t._v(t._s(t.goals[e].battlesWon))]):i("span",[t._v("0")]),t._v(" / "+t._s(s.battlesWon)+" ) ")])}))],2)]),i("div",{staticClass:"goal-character"},[i("p",[t._v(" character unlocked: "),i("b",[t._v(t._s(t.entity(t.mission.unlocked_entity).name))])]),t.mission.completed||t.mission.tracking||!this.hasRequiredLevel(this.mission.level_requirement)?t._e():i("button",{staticClass:"goal-btn goal-btn--track",on:{click:function(s){return t.trackMission()}}},[t._v(" Track ")]),!t.mission.completed&&t.mission.tracking?i("button",{staticClass:"goal-btn goal-btn--stop",on:{click:function(s){return t.stopTracking()}}},[t._v(" Stop tracking ")]):t._e()])])},o=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("li",[e("b",[t._v("Goals")])])}],c=(e("d81d"),{props:["mission","goals","tracked"],computed:{user:function(){return this.$store.getters["user/getUserData"]}},methods:{entity:function(t){var s=this.$store.getters["Roster/getRoster"];for(var e in s)if(s[e].id===t)return s[e];return{}},hasRequiredLevel:function(t){return this.user.season.seasonLevel>=t},trackMission:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var e,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(t.hasRequiredLevel(t.mission.level_requirement)){s.next=2;break}return s.abrupt("return");case 2:if(e=t.mission.id,i=JSON.parse(JSON.stringify(t.mission.goals)).map((function(t){return t.battlesWon=0,t})),s.prev=4,!(t.tracked>=3)){s.next=8;break}return t.alertSystem("You can't track more than 3 missions at once!"),s.abrupt("return");case 8:return s.next=10,t.$http.post("/track",[e,JSON.stringify(i)]);case 10:t.mission.tracking=!0,s.next=16;break;case 13:s.prev=13,s.t0=s["catch"](4),t.alertSystem("Something went wrong! We likely couldn't track your mission ):");case 16:case"end":return s.stop()}}),s,null,[[4,13]])})))()},stopTracking:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var e,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,e=t.mission.id,s.next=4,t.$http.delete("/mission/".concat(e));case 4:i=s.sent,i.data.success&&(t.mission.tracking=!1,t.goals=[]),s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](0),t.alertSystem("It appears something went wrong...");case 11:case"end":return s.stop()}}),s,null,[[0,8]])})))()}}}),l=c,u=(e("3256"),e("2877")),m=Object(u["a"])(l,a,o,!1,null,"05707fe7",null),d=m.exports,g=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{key:t.mission.id,staticClass:"mission"},[e("div",{staticClass:"mission-info"},[e("div",{staticClass:"mission-name",on:{click:function(s){return t.openGoalsModal()}}},[e("h1",[t._v(" "+t._s(t.mission.name)+" ")]),e("span",{class:"mission-track mission-track-"+t.status})]),t.mission.completed?e("div",{staticClass:"mission-completed mission-tag"},[t._v(" completed ")]):t.hasRequiredLevel?t.mission.completed||t.mission.tracking?t.mission.tracking?e("div",{staticClass:"mission-tracking mission-tag"},[t._v(" tracking ")]):t._e():e("div",{staticClass:"mission-available mission-tag"},[t._v(" Available ")]):e("div",{staticClass:"mission-tag mission-unavailable"},[t._v(" Unlock this assignment at level "+t._s(t.mission.level_requirement)+" ")])])])},f=[],p={props:["mission"],methods:{openGoalsModal:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:t.$emit("openGoalsModal",t.mission);case 1:case"end":return s.stop()}}),s)})))()}},computed:{status:function(){return this.hasRequiredLevel?this.mission.completed||this.mission.tracking?this.mission.completed?"completed":this.mission.tracking?"tracking":"":"available":"unavailable"},user:function(){return this.$store.getters["user/getUserData"]},hasRequiredLevel:function(){return this.user.season.seasonLevel>=this.mission.level_requirement}}},v=p,h=(e("524a"),Object(u["a"])(v,g,f,!1,null,"28f15e48",null)),k=h.exports,b={components:{goals:d,mission:k},data:function(){return{missions:[],selectedMission:{},selectedMissionGoals:[],start:0,finish:10}},methods:{openGoalsModal:function(t){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s.selectedMissionGoals=[],s.selectedMission=t,e.next=4,s.$http.get("/mission/".concat(s.selectedMission.id));case 4:i=e.sent,i.data.success&&i.data.goals.length>0&&(s.selectedMissionGoals=i.data.goals[0].goals);case 6:case"end":return e.stop()}}),e)})))()},sortBy:function(t){for(var s=[],e=this.missions.length-1;e>=0;e--)if(this.status(this.missions[e])!==t){var i=this.missions.splice(e,1)[0];s.push(i)}this.missions=this.missions.concat(s)},status:function(t){return this.hasRequiredLevel(t)||t.completed?t.completed||t.tracking?t.completed?3:t.tracking?4:0:2:1},hasRequiredLevel:function(t){return this.user.season.seasonLevel>=t.level_requirement}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var e;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$http.get("/mission");case 2:e=s.sent,t.missions=e.data,t.openGoalsModal(t.missions[0]);case 5:case"end":return s.stop()}}),s)})))()},computed:{user:function(){return this.$store.getters["user/getUserData"]},tracked:function(){var t=0;for(var s in this.missions)if(this.missions[s].tracking&&t++,t>=3)return t;return t}}},_=b,x=(e("c053"),Object(u["a"])(_,i,n,!1,null,null,null));s["default"]=x.exports},3256:function(t,s,e){"use strict";var i=e("a52e"),n=e.n(i);n.a},"43a2":function(t,s,e){t.exports=e.p+"img/star.61246c06.svg"},"524a":function(t,s,e){"use strict";var i=e("07cc"),n=e.n(i);n.a},"555d":function(t,s,e){t.exports=e.p+"img/completed.78bc5b4d.svg"},"82c4":function(t,s,e){},"92e1":function(t,s,e){t.exports=e.p+"img/locked.418409b3.svg"},"99af":function(t,s,e){"use strict";var i=e("23e7"),n=e("d039"),r=e("e8b5"),a=e("861d"),o=e("7b0b"),c=e("50c4"),l=e("8418"),u=e("65f0"),m=e("1dde"),d=e("b622"),g=e("2d00"),f=d("isConcatSpreadable"),p=9007199254740991,v="Maximum allowed index exceeded",h=g>=51||!n((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),k=m("concat"),b=function(t){if(!a(t))return!1;var s=t[f];return void 0!==s?!!s:r(t)},_=!h||!k;i({target:"Array",proto:!0,forced:_},{concat:function(t){var s,e,i,n,r,a=o(this),m=u(a,0),d=0;for(s=-1,i=arguments.length;s<i;s++)if(r=-1===s?a:arguments[s],b(r)){if(n=c(r.length),d+n>p)throw TypeError(v);for(e=0;e<n;e++,d++)e in r&&l(m,d,r[e])}else{if(d>=p)throw TypeError(v);l(m,d++,r)}return m.length=d,m}})},a52e:function(t,s,e){},c053:function(t,s,e){"use strict";var i=e("82c4"),n=e.n(i);n.a},e0ed:function(t,s,e){t.exports=e.p+"img/goback.592f4b5a.svg"},e1e7:function(t,s,e){t.exports=e.p+"img/progress.9533211d.svg"},f1ed:function(t,s,e){t.exports=e.p+"img/unlocked.a9ba3da0.svg"}}]);
//# sourceMappingURL=chunk-663cea2c.534830ce.js.map