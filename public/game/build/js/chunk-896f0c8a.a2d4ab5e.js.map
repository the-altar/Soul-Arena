{"version":3,"sources":["webpack:///./src/views/Missions/index.vue?30e6","webpack:///src/views/Missions/index.vue","webpack:///./src/views/Missions/index.vue?195f","webpack:///./src/views/Missions/index.vue","webpack:///./src/views/Missions/index.vue?5b06","webpack:///./src/assets/img/icons/goback.svg"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","$event","$router","push","name","attrs","_l","mission","key","id","openGoalsModal","_v","_s","completed","tracking","hasRequiredLevel","level_requirement","_e","selectedMission","description","_m","g","selectedMissionGoals","battlesWon","pokemon","unlocked_entity","trackMission","stopTracking","staticRenderFns","data","missions","methods","user","season","seasonLevel","req","computed","$store","getters","trackedMissions","i","tracked","component","module","exports"],"mappings":"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","file":"js/chunk-896f0c8a.a2d4ab5e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"missions\"},[_c('div',{staticClass:\"missions-menu\"},[_c('button',{on:{\"click\":function($event){return _vm.$router.push({name: 'home'})}}},[_c('img',{attrs:{\"src\":require(\"@/assets/img/icons/goback.svg\")}})])]),_c('div',{staticClass:\"missions-list\"},_vm._l((_vm.missions),function(mission){return _c('div',{key:mission.id,staticClass:\"mission\"},[_c('div',{staticClass:\"mission-info\"},[_c('h1',{staticClass:\"mission-name\",on:{\"click\":function($event){return _vm.openGoalsModal(mission)}}},[_vm._v(\" \"+_vm._s(mission.name)+\" \")]),(!mission.completed && !mission.tracking)?_c('div',{staticClass:\"mission-option\"},[_vm._v(\" Available \")]):(mission.completed)?_c('div',{staticClass:\"mission-completed\"},[_vm._v(\" completed \")]):(mission.tracking)?_c('div',{staticClass:\"mission-tracking\"},[_vm._v(\" tracking \")]):(!_vm.hasRequiredLevel(mission.level_requirement))?_c('div',[_vm._v(\" Hasn't reached required level yet \")]):_vm._e()])])}),0),_c('div',{staticClass:\"goal\"},[_c('div',{staticClass:\"goal-pic\"},[_c('img',{attrs:{\"src\":(\"/uploads/\" + (this.selectedMission.banner) + \".jpg\")}})]),_c('div',{staticClass:\"goal-section\"},[_c('h1',{staticClass:\"goal-title\"},[_vm._v(_vm._s(this.selectedMission.name))]),_c('p',{staticClass:\"goal-description\"},[_vm._v(_vm._s(this.selectedMission.description))]),_c('div',{staticClass:\"goal-goals\"},[_vm._m(0),_vm._l((this.selectedMission.goals),function(g,key){return _c('li',{key:key},[_vm._v(\" \"+_vm._s(g.description)+\" ( \"),(_vm.selectedMissionGoals[key])?_c('span',[_vm._v(_vm._s(_vm.selectedMissionGoals[key].battlesWon))]):_c('span',[_vm._v(\"0\")]),_vm._v(\" / \"+_vm._s(g.battlesWon)+\" ) \")])})],2)]),_c('div',{staticClass:\"goal-character\"},[_c('p',[_vm._v(\" character unlocked: \"),_c('b',[_vm._v(_vm._s(this.pokemon(this.selectedMission.unlocked_entity).name))])]),(!_vm.selectedMission.completed && !_vm.selectedMission.tracking)?_c('button',{on:{\"click\":function($event){return _vm.trackMission()}}},[_vm._v(\" Track mission \")]):_vm._e(),(!_vm.selectedMission.completed && _vm.selectedMission.tracking)?_c('button',{on:{\"click\":function($event){return _vm.stopTracking()}}},[_vm._v(\" Stop tracking \")]):_vm._e()])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_c('b',[_vm._v(\"Goals\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"missions\">\n    <div class=\"missions-menu\">\n      <button @click=\"$router.push({name: 'home'})\">\n        <img src=\"~@/assets/img/icons/goback.svg\">\n      </button>\n    </div>\n    <div class=\"missions-list\">\n      <div class=\"mission\" v-for=\"mission in missions\" :key=\"mission.id\">\n        <div class=\"mission-info\">\n          <h1 class=\"mission-name\" @click=\"openGoalsModal(mission)\">\n            {{ mission.name }}\n          </h1>\n          <div\n            v-if=\"!mission.completed && !mission.tracking\"\n            class=\"mission-option\"\n          >\n            Available\n          </div>\n          <div v-else-if=\"mission.completed\" class=\"mission-completed\">\n            completed\n          </div>\n          <div v-else-if=\"mission.tracking\" class=\"mission-tracking\">\n            tracking\n          </div>\n          <div v-else-if=\"!hasRequiredLevel(mission.level_requirement)\">\n            Hasn't reached required level yet\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"goal\">\n      <div class=\"goal-pic\">\n        <img :src=\"`/uploads/${this.selectedMission.banner}.jpg`\" />\n      </div>\n      <div class=\"goal-section\">\n        <h1 class=\"goal-title\">{{ this.selectedMission.name }}</h1>\n        <p class=\"goal-description\">{{ this.selectedMission.description }}</p>\n\n        <div class=\"goal-goals\">\n          <li><b>Goals</b></li>\n          <li v-for=\"(g, key) in this.selectedMission.goals\" :key=\"key\">\n            {{ g.description }}\n            (\n            <span v-if=\"selectedMissionGoals[key]\">{{\n              selectedMissionGoals[key].battlesWon\n            }}</span\n            ><span v-else>0</span> / {{ g.battlesWon }} )\n          </li>\n        </div>\n      </div>\n\n      <div class=\"goal-character\">\n        <p>\n          character unlocked:\n          <b>{{ this.pokemon(this.selectedMission.unlocked_entity).name }}</b>\n        </p>\n\n        <button\n          v-if=\"!selectedMission.completed && !selectedMission.tracking\"\n          @click=\"trackMission()\"\n        >\n          Track mission\n        </button>\n        <button\n          v-if=\"!selectedMission.completed && selectedMission.tracking\"\n          @click=\"stopTracking()\"\n        >\n          Stop tracking\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      missions: [],\n      selectedMission: {},\n      selectedMissionGoals: [],\n    };\n  },\n  methods: {\n    async openGoalsModal(mission) {\n      this.selectedMissionGoals = [];\n      this.selectedMission = mission;\n      const r = await this.$http.get(\n        `/mission/${this.selectedMission.id}`\n      );\n      if (r.data.success && r.data.goals.length > 0)\n        this.selectedMissionGoals = r.data.goals[0].goals;\n    },\n    async trackMission() {\n      if (!this.hasRequiredLevel(this.selectedMission.level_requirement))\n        return;\n      const id = this.selectedMission.id;\n      const mission = this.selectedMission.goals.map((g) => {\n        g.battlesWon = 0;\n        return g;\n      });\n      try {\n        if (this.trackedMissions >= 3) {\n          alert(\"You can't track more than 3 missions at once!\");\n          return;\n        }\n        await this.$http.post(\"/track\", [id, JSON.stringify(mission)]);\n\n        this.selectedMission.tracking = true;\n        this.$emit(\"close\");\n      } catch (err) {\n        alert(err);\n      }\n    },\n    async stopTracking() {\n      try {\n        const missionId = this.selectedMission.id;\n        const r = await this.$http.delete(`/mission/${missionId}`);\n        if (r.data.success) {\n          this.selectedMission.tracking = false;\n          this.selectedMissionGoals = [];\n        }\n      } catch (err) {\n        alert(err);\n      }\n    },\n    hasRequiredLevel(req) {\n      return this.user.season.seasonLevel >= req;\n    },\n  },\n  async created() {\n    const r = await this.$http.get(\"/mission\");\n    this.missions = r.data;\n    this.openGoalsModal(this.missions[0]);\n  },\n  computed: {\n    pokemon() {\n      return this.$store.getters[\"Roster/findPokemonById\"] || {};\n    },\n    user() {\n      return this.$store.getters[\"user/getUserData\"];\n    },\n    trackedMissions() {\n      let tracked = 0;\n      for (const i in this.missions) {\n        if (this.missions[i].tracking) tracked++;\n        if (tracked >= 3) return tracked;\n      }\n      return tracked;\n    },\n  },\n};\n</script>\n\n<style lang='scss'>\n@mixin checkers($size: 40px, $contrast: 0.07) {\n  $checkerColor: rgba(#000, $contrast);\n  $angle: 45deg;\n  $tp: 25%;\n\n  background-image: linear-gradient($angle, $checkerColor $tp, transparent $tp),\n    linear-gradient(-$angle, $checkerColor $tp, transparent $tp),\n    linear-gradient($angle, transparent 3 * $tp, $checkerColor 3 * $tp),\n    linear-gradient(-$angle, transparent 3 * $tp, $checkerColor 3 * $tp);\n  background-size: $size $size;\n  background-position: 0 0, 0 $size/2, $size/2 -1 * $size/2, -1 * $size/2 0;\n}\n\n.missions {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  justify-content: center;\n  align-items: center;\n  color: #fafafa;\n\n  &-heading {\n    background-color: #2b2b2b;\n    height: 50px;\n    line-height: 50px;\n    text-align: center;\n    margin: 5px;\n    border-radius: 20px;\n    font-size: 14px;\n  }\n\n  &-notes {\n    background-color: #2b2b2b;\n    border-radius: 20px;\n    padding: 5px;\n    font-size: 12px;\n    width: 80%;\n    text-align: center;\n  }\n\n  &-list {\n    width: 35%;\n    height: 500px;\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    flex-direction: column;\n    justify-content: flex-start;\n  }\n\n  &-menu {\n    width: 100px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    button {\n      color:#fafafa;  \n      outline: none;\n      border-radius: 50%;\n      height: 75px;\n      width: 75px;\n      background-color: #2b2b2b;\n    }\n\n    img {\n      height: 30px;\n      padding: 10px;\n      border-radius: 50%;\n      border: 1px dashed #747474;\n    }\n  }\n}\n\n.mission {\n  width: 100%;\n  color: #fafafa;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  &-banner {\n    height: 175px;\n    width: 250px;\n    box-sizing: border-box;\n    border: 1px solid #2b2b2b;\n  }\n  &-info {\n    color: #fafafa;\n    width: 100%;\n    margin: 5px;\n    text-align: center;\n    font-size: 12px;\n    background-color: rgba($color: #2b2b2b, $alpha: 0.7);\n    border-radius: 100px;\n    overflow: hidden;\n  }\n  &-name {\n    font-size: 12px;\n    height: 30px;\n    line-height: 30px;\n    font-weight: bold;\n    margin: 0;\n    width: 100%;\n    background-color: #2b2b2b;\n  }\n\n  &-option {\n    text-align: center;\n    background-color: #fafafa;\n    margin: 0;\n    color: #2b2b2b;\n  }\n  &-tracking {\n    text-align: center;\n    color: #2b2b2b;\n    background-color: gold;\n  }\n  &-completed {\n    text-align: center;\n    color: #2b2b2b;\n    background-color: turquoise;\n  }\n}\n\n.goal {\n  width: 370px;\n  height: 500px;\n  margin: 5px;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  flex-direction: column;\n  border-radius: 5px;\n  background-color: rgba($color: #2b2b2b, $alpha: 0.7);\n  &-pic {\n    width: 100%;\n    height: 200px;\n    box-sizing: border-box;\n    text-align: center;\n    border-bottom: 1px solid black;\n    background-color: rgba($color: #2b2b2b, $alpha: 0.5);\n    img {\n      margin-top: 10px;\n      margin-bottom: 5px;\n      border: 1px solid black;\n    }\n  }\n\n  &-title {\n    margin: 2px;\n    font-size: 14px;\n    padding: 2px;\n  }\n\n  &-description {\n    font-size: 12px;\n    margin: 5px;\n    width: 90%;\n    font-family: \"Open Sans\", sans-serif;\n  }\n\n  &-goals {\n    font-size: 12px;\n    margin: 5px;\n    list-style: none;\n    width: 90%;\n  }\n\n  &-character {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    min-height: 20%;\n    img {\n      border-radius: 10px;\n      border: 1px solid darkcyan;\n      box-shadow: 0 0 10px 1px darkcyan;\n      margin: 5px;\n    }\n    p {\n      font-size: 12px;\n    }\n  }\n\n  &-section {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: space-evenly;\n    border-bottom: 1px solid black;\n    background-color: rgba($color: #2b2b2b, $alpha: 0.7);\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6775a436&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","module.exports = __webpack_public_path__ + \"img/goback.592f4b5a.svg\";"],"sourceRoot":""}