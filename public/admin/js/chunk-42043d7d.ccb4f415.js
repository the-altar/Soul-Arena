(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-42043d7d"],{5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var s=n("1d80"),r=n("5899"),l="["+r+"]",a=RegExp("^"+l+l+"*"),i=RegExp(l+l+"*$"),c=function(e){return function(t){var n=String(s(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(i,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},"64ff":function(e,t,n){"use strict";var s=n("9080"),r=n.n(s);r.a},7156:function(e,t,n){var s=n("861d"),r=n("d2bb");e.exports=function(e,t,n){var l,a;return r&&"function"==typeof(l=t.constructor)&&l!==n&&s(a=l.prototype)&&a!==n.prototype&&r(e,a),e}},9080:function(e,t,n){},a434:function(e,t,n){"use strict";var s=n("23e7"),r=n("23cb"),l=n("a691"),a=n("50c4"),i=n("7b0b"),c=n("65f0"),o=n("8418"),u=n("1dde"),f=n("ae40"),p=u("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),k=Math.max,h=Math.min,m=9007199254740991,b="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!p||!d},{splice:function(e,t){var n,s,u,f,p,d,v=i(this),g=a(v.length),y=r(e,g),x=arguments.length;if(0===x?n=s=0:1===x?(n=0,s=g-y):(n=x-2,s=h(k(l(t),0),g-y)),g+n-s>m)throw TypeError(b);for(u=c(v,s),f=0;f<s;f++)p=y+f,p in v&&o(u,f,v[p]);if(u.length=s,n<s){for(f=y;f<g-s;f++)p=f+s,d=f+n,p in v?v[d]=v[p]:delete v[d];for(f=g;f>g-s+n;f--)delete v[f-1]}else if(n>s)for(f=g-s;f>y;f--)p=f+s-1,d=f+n-1,p in v?v[d]=v[p]:delete v[d];for(f=0;f<n;f++)v[f+y]=arguments[f+2];return v.length=g-s+n,u}})},a9e3:function(e,t,n){"use strict";var s=n("83ab"),r=n("da84"),l=n("94ca"),a=n("6eeb"),i=n("5135"),c=n("c6b6"),o=n("7156"),u=n("c04e"),f=n("d039"),p=n("7c73"),d=n("241c").f,k=n("06cf").f,h=n("9bf2").f,m=n("58a8").trim,b="Number",v=r[b],g=v.prototype,y=c(p(g))==b,x=function(e){var t,n,s,r,l,a,i,c,o=u(e,!1);if("string"==typeof o&&o.length>2)if(o=m(o),t=o.charCodeAt(0),43===t||45===t){if(n=o.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(o.charCodeAt(1)){case 66:case 98:s=2,r=49;break;case 79:case 111:s=8,r=55;break;default:return+o}for(l=o.slice(2),a=l.length,i=0;i<a;i++)if(c=l.charCodeAt(i),c<48||c>r)return NaN;return parseInt(l,s)}return+o};if(l(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var w,E=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof E&&(y?f((function(){g.valueOf.call(n)})):c(n)!=b)?o(new v(x(t)),n,E):x(t)},I=s?d(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;I.length>O;O++)i(v,w=I[O])&&!i(E,w)&&h(E,w,k(v,w));E.prototype=g,g.constructor=E,a(r,b,E)}},b16b:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.skill?n("div",{staticClass:"skill-container"},[n("h1",[e._v(e._s(e.skill.name)+", "+e._s(e.$route.params.id))]),n("FormulateForm",{staticClass:"skill",on:{submit:e.submitHandler}},[n("div",{staticClass:"center mb"},[n("div",[n("FormulateInput",{attrs:{type:"text",label:"Skill name",placeholder:"type it here"},model:{value:e.skill.name,callback:function(t){e.$set(e.skill,"name",t)},expression:"skill.name"}}),n("FormulateInput",{attrs:{type:"textarea",label:"Skill description",options:e.classes},model:{value:e.skill.description,callback:function(t){e.$set(e.skill,"description",e._n(t))},expression:"skill.description"}}),n("FormulateInput",{attrs:{type:"select",label:"Select a class for this skill",options:e.classes},model:{value:e.skill.class,callback:function(t){e.$set(e.skill,"class",e._n(t))},expression:"skill.class"}}),n("FormulateInput",{attrs:{type:"select",label:"Select a persistence class for this skill",options:e.controlClasses},model:{value:e.skill.persistence,callback:function(t){e.$set(e.skill,"persistence",e._n(t))},expression:"skill.persistence"}}),n("FormulateInput",{attrs:{type:"select",label:"Select a targeting mode",options:e.targetClasses},model:{value:e.skill.targetMode,callback:function(t){e.$set(e.skill,"targetMode",e._n(t))},expression:"skill.targetMode"}}),n("RequiresSkillIdOnTarget",{attrs:{skill:e.skill}}),n("CannotBeUsedOnTargetOf",{attrs:{skill:e.skill}})],1),n("div",{staticClass:"center center-col"},[n("div",{staticClass:"skill-cost"},e._l(5,(function(t){return n("FormulateInput",{key:t,staticClass:"skill-cost-item",attrs:{type:"number",validation:"required|number|between:-1,20",help:""+e.reiatsuCost[t-1]},model:{value:e.skill.cost[t-1],callback:function(n){e.$set(e.skill.cost,t-1,e._n(n))},expression:"skill.cost[x - 1]"}})})),1),n("div",{staticClass:"skill-cooldown"},[n("FormulateInput",{attrs:{name:"baseCooldown",type:"number",label:"Base Cooldown"},model:{value:e.skill.baseCooldown,callback:function(t){e.$set(e.skill,"baseCooldown",e._n(t))},expression:"skill.baseCooldown"}}),n("FormulateInput",{attrs:{name:"startCooldown",type:"number",label:"Starting Cooldown"},model:{value:e.skill.startCooldown,callback:function(t){e.$set(e.skill,"startCooldown",e._n(t))},expression:"skill.startCooldown"}})],1),n("div",{staticClass:"skill-pics"},[n("Uploader",{directives:[{name:"show",rawName:"v-show",value:!e.effectDisplay,expression:"!effectDisplay"}],attrs:{filename:e.skill.skillpic,label:"Select a picture (75x75)"}}),n("Uploader",{directives:[{name:"show",rawName:"v-show",value:!e.effectDisplay,expression:"!effectDisplay"}],attrs:{filename:e.skill.banner,label:"Select a banner (200x200)"}})],1)]),n("div",{staticClass:"skill-type"},[n("FormulateInput",{attrs:{type:"checkbox",label:"Is disabled",placeholder:"type it here"},model:{value:e.skill.disabled,callback:function(t){e.$set(e.skill,"disabled",t)},expression:"skill.disabled"}}),n("FormulateInput",{attrs:{type:"checkbox",label:"Is Harmful"},model:{value:e.skill.harmful,callback:function(t){e.$set(e.skill,"harmful",t)},expression:"skill.harmful"}}),n("div",[n("FormulateInput",{attrs:{type:"checkbox",label:"Is uncounterable",help:"whether this skill can be countered or not. False by default"},model:{value:e.skill.uncounterable,callback:function(t){e.$set(e.skill,"uncounterable",t)},expression:"skill.uncounterable"}})],1),n("div",[n("FormulateInput",{attrs:{type:"checkbox",label:"Ignores invulnerability",help:"Skill will bypass invulnerabily when validating its targets"},model:{value:e.skill.ignoresInvulnerability,callback:function(t){e.$set(e.skill,"ignoresInvulnerability",t)},expression:"skill.ignoresInvulnerability"}})],1)],1),n("div",[n("FormulateInput",{attrs:{type:"select",options:e.entities,placeholder:"Select to assign this skill",label:"Assigned to",help:"which character owns this skill"},model:{value:e.assignedEntity,callback:function(t){e.assignedEntity=e._n(t)},expression:"assignedEntity"}}),n("FormulateInput",{attrs:{label:"Priority",help:"Order in which skills should be sorted"},model:{value:e.priority,callback:function(t){e.priority=e._n(t)},expression:"priority"}}),n("FormulateInput",{attrs:{label:"Priority",help:"Order in which skills should be sorted"},model:{value:e.priority,callback:function(t){e.priority=t},expression:"priority"}})],1)]),n("button",{staticClass:"btn",on:{click:e.displayEffects}},[e._v("Effects")]),n("FormulateInput",{staticClass:"btn",attrs:{type:"submit",label:"Save changes"}})],1),e.effectDisplay?n("Effect",{attrs:{skillId:e.skillId},on:{close:function(t){e.effectDisplay=!1}}}):e._e()],1):e._e()},r=[],l=(n("d3b7"),n("ac1f"),n("25f0"),n("5319"),n("96cf"),n("1da1")),a=n("8f45"),i=n("2086"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.effects?n("div",{staticClass:"effect",on:{click:function(t){return t.target!==t.currentTarget?null:e.close(t)}}},[n("div",{staticClass:"effect-container"},[n("div",{staticClass:"effect-container-top"},e._l(e.effects,(function(t,s){return n("div",{key:s,staticClass:"flex"},[n("button",{staticClass:"effect-btn",on:{click:function(n){e.$router.push("/skills/"+e.effectTypesEnums[t.type].toLowerCase()+"/"+t.id)}}},[n("p",[e._v(e._s(e.effectTypesEnums[t.type]))]),n("p",[e._v("id: "+e._s(t.id)+", priority: "+e._s(t.priority))])]),n("button",{staticClass:"remove",on:{click:function(n){return e.deleteEffect(t.id,s)}}},[e._v("x")])])})),0),n("div",{staticClass:"effect-container-bottom"},[n("select",{directives:[{name:"model",rawName:"v-model.number",value:e.newEffect,expression:"newEffect",modifiers:{number:!0}}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var n="_value"in t?t._value:t.value;return e._n(n)}));e.newEffect=t.target.multiple?n:n[0]}}},e._l(e.effectTypesEnums,(function(t,s){return n("option",{key:s,domProps:{value:s}},[e._v(" "+e._s(t)+" ")])})),0),n("button",{on:{click:function(t){return e.createNewEffect()}}},[e._v("Create new effect")])])])]):e._e()},o=[],u=(n("a434"),n("a9e3"),n("5530")),f=n("b85c"),p=n("bc3a"),d=n.n(p),k={data:function(){return{effects:null,newEffect:null}},props:["skillId"],methods:{close:function(){this.$emit("close")},createNewEffect:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d.a.post("/effect/new",[{type:e.newEffect},e.skillId]);case 3:e.getEffects(),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),alert(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},deleteEffect:function(e,t){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,d.a.delete("/effect/".concat(e));case 3:n.effects.splice(t,1),s.next=9;break;case 6:s.prev=6,s.t0=s["catch"](0),alert(s.t0);case 9:case"end":return s.stop()}}),s,null,[[0,6]])})))()},getEffects:function(){var e=this;d.a.post("/effect",[Number(this.skillId)]).then((function(t){var n,s=[],r=Object(f["a"])(t.data);try{for(r.s();!(n=r.n()).done;){var l=n.value;s.push(Object(u["a"])({},l.data,{id:l.id,priority:l.priority}))}}catch(a){r.e(a)}finally{r.f()}e.effects=s})).catch((function(e){alert(e)}))}},computed:{effectTypesEnums:function(){return this.$store.getters["enums/getEnum"]("effectTypings")}},created:function(){this.getEffects()}},h=k,m=(n("64ff"),n("2877")),b=Object(m["a"])(h,c,o,!1,null,"50bdf9dc",null),v=b.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.skill?n("div",{staticClass:"flex flex-col"},[n("h5",[e._v("Require one of these on target")]),n("button",{on:{click:function(t){return t.preventDefault(),e.requiresSkillOnTarget.push(0)}}},[e._v("Add skill id")]),n("div",{staticClass:"flex flex-col"},e._l(e.requiresSkillOnTarget,(function(t,s){return n("div",{key:s,staticClass:"flex"},[n("FormulateInput",{attrs:{type:"number",label:"skill id",help:"Target must be affected by this skill"},model:{value:e.requiresSkillOnTarget[s],callback:function(t){e.$set(e.requiresSkillOnTarget,s,e._n(t))},expression:"requiresSkillOnTarget[key]"}}),n("button",{on:{click:function(t){return t.preventDefault(),e.requiresSkillOnTarget.splice(s,1)}}},[e._v("Remove")])],1)})),0)]):e._e()},y=[],x={props:["skill"],computed:{requiresSkillOnTarget:function(){return this.skill.requiresSkillOnTarget}}},w=x,E=Object(m["a"])(w,g,y,!1,null,null,null),I=E.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.skill?n("div",{staticClass:"flex flex-col"},[n("h5",[e._v("This skill cannot be used on targets of")]),n("button",{on:{click:function(t){return t.preventDefault(),e.cannotBeUsedOnTargetOf.push(0)}}},[e._v("Add skill id")]),n("div",{staticClass:"flex flex-col"},e._l(e.cannotBeUsedOnTargetOf,(function(t,s){return n("div",{key:s,staticClass:"flex"},[n("FormulateInput",{attrs:{type:"number",label:"skill id",help:"Target must not be affected by this skill"},model:{value:e.cannotBeUsedOnTargetOf[s],callback:function(t){e.$set(e.cannotBeUsedOnTargetOf,s,e._n(t))},expression:"cannotBeUsedOnTargetOf[key]"}}),n("button",{on:{click:function(t){return t.preventDefault(),e.cannotBeUsedOnTargetOf.splice(s,1)}}},[e._v("Remove")])],1)})),0)]):e._e()},_=[],T={props:["skill"],computed:{cannotBeUsedOnTargetOf:function(){return this.skill.cannotBeUsedOnTargetOf}}},C=T,$=Object(m["a"])(C,O,_,!1,null,null,null),S=$.exports,F={Types:i["a"],Effect:v,Uploader:a["a"],RequiresSkillIdOnTarget:I,CannotBeUsedOnTargetOf:S},N=(n("b0c0"),function(){return this.$store.getters["enums/getEnum"]("costTypings")}),R=function(){return!!this.char&&this.char.skills[this.skillIndex].cost},U=function(){return this.$store.getters["enums/getEnum"]("reiatsuTypings")},A=function(){return this.$store.getters["enums/getEnum"]("skillClassTypings")},B=function(){return this.$store.getters["enums/getEnum"]("controlTypings")},j=function(){return this.$store.getters["enums/getEnum"]("targetModeTypings")},q=function(){return this.$store.getters["enums/getEnum"]("pokemonTypings")},D=function(){return this.$store.getters["enums/getEnum"]("effectTypings")},M=function(){return this.$store.getters["enums/getEnum"]("effectTypings")},P=function(){var e,t={},n=Object(f["a"])(this.charIds);try{for(n.s();!(e=n.n()).done;){var s=e.value;t[s.id]=s.name}}catch(r){n.e(r)}finally{n.f()}return t},L=function(){return this.skill.effects},V={effectTypesEnums:M,targetClasses:j,pokemonTypes:q,reiatsuCost:U,controlClasses:B,skillEffects:L,effectTypes:D,skillCost:R,costTypes:N,entities:P,classes:A},G=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t="new"===this.$route.params.id,e.prev=1,!t){e.next=7;break}return e.next=5,this.$axios.post("/skill/new",[this.skill]);case 5:e.next=9;break;case 7:return e.next=9,this.$axios.post("/skill/update",[this.skill,this.skillId,this.assignedEntity,this.priority]);case 9:alert("Uploaded"),e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](1),alert(e.t0);case 15:case"end":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.skill.effects.push(this.newEffect),e.prev=1,e.next=4,this.$axios.post("/character/update",this.char);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),alert(e.t0);case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.skill.effects.splice(t,1),e.prev=1,e.next=4,this.$axios.post("/character/update",this.char);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),alert(e.t0);case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.preventDefault(),this.effectDisplay=!0;case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){null!==this.newEffect&&this.skill.effects.push({type:this.newEffect})},z={createNewEffect:Y,displayEffects:X,submitHandler:G,saveNewEffect:H,deleteEffect:J},K={},Q={data:function(){return{skill:!1,skillId:!1,assignedEntity:0,charIds:null,effectDisplay:!1,newEffect:null,priority:0}},components:F,computed:V,methods:z,watchers:K,created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,s,r,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("new"===e.$route.params.id){t.next=23;break}return t.prev=1,n=e.$route.params.id,t.next=5,e.$axios.get("/skill/".concat(n));case 5:return s=t.sent,t.next=8,e.$axios.get("/character/ids");case 8:r=t.sent,e.charIds=r.data,e.skill=s.data.data,e.skill.requiresSkillOnTarget||e.$set(e.skill,"cannotBeUsedOnTargetOf",[]),e.skill.cannotBeUsedOnTargetOf||e.$set(e.skill,"cannotBeUsedOnTargetOf",[]),e.skillId=s.data.id,e.priority=s.data.priority,e.assignedEntity=s.data.entity_id,t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](1),alert(t.t0);case 21:t.next=36;break;case 23:return t.prev=23,t.next=26,e.$axios.get("/character/ids");case 26:l=t.sent,e.charIds=l.data,e.skillId=null,e.assignedEntity=null,e.skill={cost:[0,0,0,0,0],effects:[],requiresSkillOnTarget:[],cannotBeUsedOnTargetOf:[],skillpic:W(),banner:W()},t.next=36;break;case 33:t.prev=33,t.t1=t["catch"](23),alert(t.t1);case 36:case"end":return t.stop()}}),t,null,[[1,18],[23,33]])})))()}};function W(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}var Z=Q,ee=(n("c72b"),Object(m["a"])(Z,s,r,!1,null,"786a2d13",null));t["default"]=ee.exports},c72b:function(e,t,n){"use strict";var s=n("dd8b"),r=n.n(s);r.a},dd8b:function(e,t,n){}}]);
//# sourceMappingURL=chunk-42043d7d.ccb4f415.js.map