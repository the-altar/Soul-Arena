(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b9ec71c"],{"69fb":function(t,e,n){},"971a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"main"},[t.loaded?n("NewsBody",{attrs:{news:this.thread}}):t._e()],1),t._l(this.comments,(function(t,e){return n("Comment",{key:e,attrs:{comment:t}})})),t.auth.authLevel>=0?n("div",{staticClass:"main"},[n("TextEditor",{attrs:{content:""},on:{"content-captured":t.postComment}})],1):t._e()],2)},r=[],s=(n("99af"),n("5530")),o=(n("96cf"),n("1da1")),c=n("d727"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"comment-author"},[n("img",{attrs:{src:"/img/avatars/"+t.comment.author.avatar}}),n("p",{staticStyle:{"margin-left":"10px"}},[n("span",{staticClass:"comment-username",class:t.comment.author.rank},[t._v(t._s(t.comment.author.username))]),n("br"),n("span",{staticClass:"comment-rank"},[t._v(t._s(t.comment.author.rank))])]),n("p",{staticClass:"comment-date"},[t._v(" "+t._s(t._f("moment")(t.date(new Date(t.comment.created_at)),"from","now"))+" ")])]),n("div",{staticClass:"comment-text",domProps:{innerHTML:t._s(t.comment.content)}}),t.auth.authLevel>=0?n("footer",{staticClass:"comment-options"},[n("button",[t._v("edit")]),n("button",[t._v("delete")]),n("button",{on:{click:function(e){t.reply=!0}}},[t._v("reply")])]):t._e(),t.reply?n("div",{staticClass:"quote"},[n("TextEditor",{attrs:{content:""},on:{"content-captured":t.replyToComment}})],1):t._e()])},u=[],m=n("f7d4"),l={components:{TextEditor:m["a"]},props:["comment"],data:function(){return{reply:!1}},methods:{date:function(t){var e=new Date(t);return new Date(e.valueOf()-6e4*e.getTimezoneOffset())},replyToComment:function(t){console.log(t)}},computed:{auth:function(){return this.$store.getters["user/permissions"]}}},d=l,p=n("2877"),h=Object(p["a"])(d,i,u,!1,null,null,null),f=h.exports,v={Comment:f,NewsBody:c["a"],TextEditor:m["a"]},w=function(){return this.$store.getters["user/permissions"]},_={auth:w},b=function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=this.$store.getters["user/permissions"].id,t.prev=1,t.next=4,this.$http.post("/thread/comment",[e,n,this.thread.id,0]);case 4:a=t.sent,console.log(a),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),alert(t.t0);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),C=function(t){var e=new Date(t);return new Date(e.valueOf()-6e4*e.getTimezoneOffset())},g={date:C,postComment:b},x={},k={data:function(){return{comments:[],thread:{},loaded:!1,reply:!1}},components:v,computed:_,methods:g,watchers:x,created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,a,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$route.params.id,a=0,e.prev=2,e.next=5,t.$http.get("/thread/".concat(n,"/").concat(a));case 5:return r=e.sent,e.next=8,t.$http.get("/thread/".concat(n,"/comments/50"));case 8:o=e.sent,t.thread=Object(s["a"])({},r.data),t.comments=Object(s["a"])({},o.data),t.loaded=!0,e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](2),alert(e.t0);case 17:case"end":return e.stop()}}),e,null,[[2,14]])})))()}},y=k,O=(n("b5d9"),Object(p["a"])(y,a,r,!1,null,null,null));e["default"]=O.exports},b5d9:function(t,e,n){"use strict";var a=n("69fb"),r=n.n(a);r.a}}]);
//# sourceMappingURL=chunk-2b9ec71c.033d0271.js.map