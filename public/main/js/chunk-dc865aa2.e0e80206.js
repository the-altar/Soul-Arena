(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dc865aa2"],{3816:function(t,a,e){"use strict";var s=e("d7ae"),n=e.n(s);n.a},"64d8":function(t,a,e){},"700a":function(t,a,e){"use strict";var s=e("64d8"),n=e.n(s);n.a},7368:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"main"},[t._m(0),e("div",{staticClass:"main-body-content"},[t.user?e("div",[e("img",{staticClass:"user-avatar",attrs:{src:"/img/avatars/"+t.user.avatar}}),e("p",{staticClass:"user-name"},[t._v(t._s(t.user.username))]),e("p",{staticClass:"user-rank"},[t._v(t._s(t.user.rank.rankName))]),e("div",[t.auth.id===t.user.id?e("button",[t._v("change avatar")]):t._e()])]):t._e(),e("avatar-panel")],1),e("div",{staticClass:"main-body-footer"})])])},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main-body-head"},[e("div",{staticClass:"main-header main-header--large"},[e("h5",[t._v("My Account")])])])}],r=(e("96cf"),e("1da1")),i=e("b9ad"),c=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("h1",{staticClass:"heading"},[t._v("Change avatar")]),e("div",{staticClass:"gallery"},t._l(t.defaulted,(function(a){return e("div",{key:a,class:{"gallery-active":t.selectedAvatar===a},on:{click:function(e){t.selectedAvatar=a}}},[e("img",{attrs:{src:"/img/avatars/"+a+".jpg"}})])})),0),e("div",[e("input",{ref:"files",attrs:{type:"file",id:"files"},on:{change:function(a){return t.handleFilesUpload()}}})]),e("button",{staticClass:"input input-bt",on:{click:t.submitChanges}},[t._v("Save changes")])])},u=[],l=(e("99af"),{data:function(){return{defaulted:18,selectedAvatar:1,file:null}},methods:{handleFilesUpload:function(){this.file=this.$refs.files.files[0]},submitChanges:function(){var t=this.$store.getters["user/permissions"].id;if(null!==this.file){var a=new FormData;a.append("file",this.file),this.$http.post("/user/avatar/".concat(t),a,{headers:{"Content-Type":"multipart/form-data"}})}else{var e=this.selectedAvatar;this.$http.post("/user/avatar/".concat(t,"/").concat(e))}}}}),o=l,d=(e("3816"),e("2877")),v=Object(d["a"])(o,c,u,!1,null,null,null),f=v.exports,h={banner:i["a"],avatarPanel:f},p=function(){return this.$store.getters["user/permissions"]},m={auth:p},g={},_={},b={data:function(){return{user:!1}},components:h,computed:m,methods:g,watchers:_,created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$http.post("/user/".concat(t.$route.params.username));case 3:e=a.sent,t.user=e.data,a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),alert(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()}},C=b,k=(e("700a"),Object(d["a"])(C,s,n,!1,null,null,null));a["default"]=k.exports},d7ae:function(t,a,e){}}]);
//# sourceMappingURL=chunk-dc865aa2.e0e80206.js.map