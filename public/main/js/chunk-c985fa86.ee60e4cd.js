(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c985fa86"],{"22ee":function(e,t,a){},3816:function(e,t,a){"use strict";var s=a("d7ae"),n=a.n(s);n.a},"64d8":function(e,t,a){},"6a05":function(e,t,a){},"700a":function(e,t,a){"use strict";var s=a("64d8"),n=a.n(s);n.a},7368:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"main"},[a("div",{staticClass:"main-body-content"},[e.user?a("userface",{attrs:{user:e.user}}):e._e(),a("user-options",{attrs:{id:e.user.id},on:{update:e.updateDynamicComponent}}),a(e.dynamicComponent,{tag:"component",attrs:{user:e.user}})],1),a("div",{staticClass:"main-body-footer"})])])},n=[],r=(a("96cf"),a("1da1")),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"user"},[a("img",{staticClass:"user-avatar",attrs:{src:"/img/avatars/"+e.user.avatar}}),a("div",{staticClass:"user-info"},[a("p",{staticClass:"user-info-name"},[e._v(" "+e._s(e.user.username)+" "),a("span",{class:e.user.online?"user-status-online":"user-status-offline"})]),a("p",{staticClass:"user-info-rank"},[e._v(" "+e._s(e.user.rank.rankName)+", Level "+e._s(e.user.season.seasonLevel)+" ")]),a("p",{staticClass:"user-info-rank"},[e._v(" Join date: "+e._s(e._f("moment")(new Date(e.user.joined_at),"dddd, MMMM Do YYYY"))+" ")])])])},c=[],u={props:["user"]},l=u,o=(a("898b"),a("2877")),d=Object(o["a"])(l,i,c,!1,null,"4e86db8d",null),m=d.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"menu"},[e.id===e.user.id?a("button",{staticClass:"menu-item",on:{click:function(t){return t.target!==t.currentTarget?null:e.emitComponent("avatar-panel")}}},[e._v(" Update avatar ")]):e._e(),a("button",{staticClass:"menu-item",on:{click:function(t){return t.target!==t.currentTarget?null:e.emitComponent("match-panel")}}},[e._v(" Match history ")])])},v=[],f={props:["id"],methods:{emitComponent:function(e){this.$emit("update",e)}},computed:{user:function(){return this.$store.getters["user/permissions"]}}},h=f,_=(a("a139"),Object(o["a"])(h,p,v,!1,null,"3717717c",null)),C=_.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",{staticClass:"heading"},[e._v("Change avatar")]),a("div",{staticClass:"gallery"},e._l(e.defaulted,(function(t){return a("div",{key:t,class:{"gallery-active":e.selectedAvatar===t-1},on:{click:function(a){e.selectedAvatar=t-1}}},[a("img",{attrs:{src:"/img/avatars/"+(t-1)+".jpg"}})])})),0),a("div",[a("input",{ref:"files",attrs:{type:"file",id:"files"},on:{change:function(t){return e.handleFilesUpload()}}})]),a("button",{staticClass:"input input-bt",on:{click:e.submitChanges}},[e._v("Save changes")])])},g=[],k=(a("99af"),{data:function(){return{defaulted:20,selectedAvatar:1,file:null}},methods:{handleFilesUpload:function(){this.file=this.$refs.files.files[0]},submitChanges:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.$store.getters["user/permissions"].id,s=1572864,t.prev=2,null===e.file){t.next=14;break}if(!(parseInt(e.file.size)>s)){t.next=7;break}return alert("File size exceeds upload limit (1 MB)"),t.abrupt("return");case 7:return n=new FormData,n.append("file",e.file),t.next=11,e.$http.post("/user/avatar/".concat(a),n,{headers:{"Content-Type":"multipart/form-data"}});case 11:alert("uploaded!"),t.next=18;break;case 14:return r=e.selectedAvatar,t.next=17,e.$http.post("/user/avatar/".concat(a,"/").concat(r));case 17:alert("uploaded!");case 18:t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](2),alert("failed",t.t0);case 23:case"end":return t.stop()}}),t,null,[[2,20]])})))()}}}),y=k,w=(a("3816"),Object(o["a"])(y,b,g,!1,null,null,null)),x=w.exports,$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"match"},[a("div",{staticClass:"match-stats"},[a("div",{staticClass:"match-stats-item"},[a("p",[e._v(" "+e._s(e.user.season.wins)+" ")]),a("p",[e._v("Wins")])]),a("div",{staticClass:"match-stats-item"},[a("p",[e._v(" "+e._s(e.user.season.losses)+" ")]),a("p",[e._v("losses")])]),a("div",{staticClass:"match-stats-item"},[a("p",[e._v("+"+e._s(e.user.season.maxStreak))]),a("p",[e._v("Max Streak")])])]),a("h5",{staticClass:"match-header"},[e._v("Ladder games played in the last 24 hours")]),a("div",{staticClass:"match-results"},e._l(e.ladder,(function(t,s){return a("div",{key:s,staticClass:"match-game"},[a("p",{class:t.winner_id===t.players[0].id?"match-winner":"match-loser"},[e._v(" "+e._s(t.players[0].username)+" ")]),a("p",{staticClass:"match-versus"},[e._v("vs")]),a("p",{class:t.winner_id===t.players[1].id?"match-winner":"match-loser"},[e._v(" "+e._s(t.players[1].username)+" ")])])})),0),a("h5",{staticClass:"match-header"},[e._v("Quick games played in the last 24 hours")]),a("div",{staticClass:"match-results"},e._l(e.quick,(function(t,s){return a("div",{key:s,staticClass:"match-game"},[a("p",{class:t.winner_id===t.players[0].id?"match-winner":"match-loser"},[e._v(" "+e._s(t.players[0].username)+" ")]),a("p",{staticClass:"match-versus"},[e._v("vs")]),a("p",{class:t.winner_id===t.players[1].id?"match-winner":"match-loser"},[e._v(" "+e._s(t.players[1].username)+" ")])])})),0)])},j=[],O=a("b85c"),M={props:["user"],data:function(){return{ladder:[],quick:[]}},created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,s,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(-1!==e.user.id){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.$http.get("/user/match-history/".concat(e.user.id));case 4:a=t.sent,s=Object(O["a"])(a.data);try{for(s.s();!(n=s.n()).done;)r=n.value,0===r.game_room?e.ladder.push(r):1===r.game_room&&e.quick.push(r)}catch(i){s.e(i)}finally{s.f()}case 7:case"end":return t.stop()}}),t)})))()}},R=M,D=(a("bfb5"),Object(o["a"])(R,$,j,!1,null,"53e1ed2c",null)),E=D.exports,A={matchPanel:E,avatarPanel:x,userOptions:C,userface:m},F=function(){return this.$store.getters["user/permissions"]},Y={auth:F},q={},J={data:function(){return{user:!1,dynamicComponent:""}},components:A,computed:Y,methods:{updateDynamicComponent:function(e){this.dynamicComponent=e}},watchers:q,created:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$http.post("/user/".concat(e.$route.params.username));case 3:a=t.sent,e.user=a.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),alert(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},L=J,S=(a("700a"),Object(o["a"])(L,s,n,!1,null,null,null));t["default"]=S.exports},"898b":function(e,t,a){"use strict";var s=a("e49e"),n=a.n(s);n.a},a139:function(e,t,a){"use strict";var s=a("22ee"),n=a.n(s);n.a},bfb5:function(e,t,a){"use strict";var s=a("6a05"),n=a.n(s);n.a},d7ae:function(e,t,a){},e49e:function(e,t,a){}}]);
//# sourceMappingURL=chunk-c985fa86.ee60e4cd.js.map